<div class="p-grid">
  <div class="p-col-12">

      <p-toast></p-toast>

      <div class="card">
          <p-toolbar styleClass="p-mb-4">
              <ng-template pTemplate="left">
                  <button pButton pRipple label="Registrar Usuario" icon="pi pi-plus" class="p-button-success p-mr-2 p-mb-2" (click)="openNew()"></button>
              </ng-template>
          </p-toolbar>

          <p-table #dt [value]="users" [columns]="columns" [rows]="6" [paginator]="true" [globalFilterFields]="['name','country.name','representative.name','status']"
                   [(selection)]="selectedProducts" [rowHover]="true" dataKey="id"
                   styleClass="p-datatable-customers"
                   currentPageReportTemplate="Mostrando del {first} al {last} de {totalRecords} usuarios" [showCurrentPageReport]="true">
              <ng-template pTemplate="caption">
                  <div class="p-d-flex p-flex-column p-flex-md-row p-jc-md-between table-header">
                      <h5 class="p-m-0">Usuarios</h5>
                      <span class="p-input-icon-left">
                      <i class="pi pi-search"></i>
                      <input pInputText type="text" (input)="dt.filterGlobal($event.target.value, 'contains')" placeholder="Buscar..." />
                  </span>
                  </div>
              </ng-template>
              <ng-template pTemplate="header">
                  <tr>
                      <th pSortableColumn="run">Run <p-sortIcon field="run"></p-sortIcon></th>
                      <th pSortableColumn="nombre">Nombre <p-sortIcon field="nombre"></p-sortIcon></th>
                      <th pSortableColumn="estado">Estado <p-sortIcon field="estado"></p-sortIcon></th>
                      <th pSortableColumn="acciones">Acciones </th>
                  </tr>
              </ng-template>
              <ng-template pTemplate="body" let-users>
                  <tr>
                      <td><span class="p-column-title">Run</span>{{users.run}}</td>
                      <td><span class="p-column-title">Nombre</span>{{users.nombres}} {{users.ape_pater}} {{users.ape_mater}}</td>
                      <td><span class="p-column-title">Estado</span>
                        <p-tag styleClass="p-mr-2" severity="success" value="Activo" *ngIf="users.activo"></p-tag>
                        <p-tag styleClass="p-mr-2" severity="warning" value="Inactivo" *ngIf="!users.activo"></p-tag>
                      </td>
                      <td><span class="p-column-title">Acciones</span>
                        <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-warning p-mr-2"></button>
                        <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-danger"></button>
                      </td>
                  </tr>
              </ng-template>
              <ng-template pTemplate="summary">
                  <div class="p-d-flex p-ai-center p-jc-between">
                      En total hay {{users ? users.length : 0 }} usuarios.
                  </div>
              </ng-template>
          </p-table>
      </div>

      <!-- <p-dialog [(visible)]="productDialog" [style]="{width: '450px'}" header="Product Details" [modal]="true" styleClass="p-fluid">
          <ng-template pTemplate="content">
              <img [src]="'assets/demo/images/product/' + product.image" [alt]="product.image" class="product-image" *ngIf="product.image">
              <div class="p-field">
                  <label for="name">Name</label>
                  <input type="text" pInputText id="name" [(ngModel)]="product.name" required autofocus />
                  <small class="ng-dirty ng-invalid" *ngIf="submitted && !product.name">Name is required.</small>
              </div>
              <div class="p-field">
                  <label for="description">Description</label>
                  <textarea id="description" pInputTextarea [(ngModel)]="product.description" required rows="3" cols="20"></textarea>
              </div>

              <div class="p-field">
                  <label class="p-mb-3">Category</label>
                  <div class="p-formgrid p-grid">
                      <div class="p-field-radiobutton p-col-6">
                          <p-radioButton id="category1" name="category" value="Accessories" [(ngModel)]="product.category"></p-radioButton>
                          <label for="category1">Accessories</label>
                      </div>
                      <div class="p-field-radiobutton p-col-6">
                          <p-radioButton id="category2" name="category" value="Clothing" [(ngModel)]="product.category"></p-radioButton>
                          <label for="category2">Clothing</label>
                      </div>
                      <div class="p-field-radiobutton p-col-6">
                          <p-radioButton id="category3" name="category" value="Electronics" [(ngModel)]="product.category"></p-radioButton>
                          <label for="category3">Electronics</label>
                      </div>
                      <div class="p-field-radiobutton p-col-6">
                          <p-radioButton id="category4" name="category" value="Fitness" [(ngModel)]="product.category"></p-radioButton>
                          <label for="category4">Fitness</label>
                      </div>
                  </div>
              </div>

              <div class="p-formgrid p-grid">
                  <div class="p-field p-col">
                      <label for="price">Price</label>
                      <p-inputNumber id="price" [(ngModel)]="product.price" mode="currency" currency="USD" locale="en-US"></p-inputNumber>
                  </div>
                  <div class="p-field p-col">
                      <label for="quantity">Quantity</label>
                      <p-inputNumber id="quantity" [(ngModel)]="product.quantity"></p-inputNumber>
                  </div>
              </div>
          </ng-template>

          <ng-template pTemplate="footer">
              <button pButton pRipple label="Cancel" icon="pi pi-times" class="p-button-text" (click)="hideDialog()"></button>
              <button pButton pRipple label="Save" icon="pi pi-check" class="p-button-text" (click)="saveProduct()"></button>
          </ng-template>
      </p-dialog> -->

      <p-confirmDialog [style]="{width: '450px'}"></p-confirmDialog>
  </div>
</div>

<p-toast key="tst"></p-toast>
